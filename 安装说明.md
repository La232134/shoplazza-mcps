# Shoplazza MCP 安装说明

## ✅ 已完成

1. ✅ 项目已克隆到：`/path/to/shoplazza-mcps`
2. ✅ MCP 配置文件已创建：`~/Library/Application Support/Cursor/User/globalStorage/mcp-config.json`

## 📋 待完成步骤

由于网络连接问题，需要你手动完成以下步骤。（以下路径 `/path/to/shoplazza-mcps` 请替换为你本地的项目根目录。）

### 步骤 1: 安装依赖

打开终端，执行：

```bash
cd /path/to/shoplazza-mcps
npm install
```

**如果遇到网络问题，可以尝试：**

```bash
# 方法 1: 使用官方 npm registry
npm install --registry https://registry.npmjs.org/

# 方法 2: 使用淘宝镜像
npm install --registry https://registry.npmmirror.com/

# 方法 3: 清除缓存后重试
npm cache clean --force
npm install
```

### 步骤 2: 构建项目

```bash
npm run build
```

这会将 TypeScript 代码编译到 `build/index.js`。

### 步骤 3: 验证构建

检查构建文件是否存在：

```bash
ls -la build/index.js
```

如果文件存在，设置执行权限：

```bash
chmod +x build/index.js
```

### 步骤 4: 重启 Cursor

1. 完全退出 Cursor（不是关闭窗口，而是退出应用）
2. 重新打开 Cursor

### 步骤 5: 测试 MCP 工具

重启后，在 Cursor 的对话中测试：

```
请帮我获取 spz-accordion 组件的文档信息
```

如果 MCP 工具正常工作，AI 助手应该能够调用工具并返回组件文档。

## 🔧 配置文件位置

MCP 配置文件已创建在：
```
~/Library/Application Support/Cursor/User/globalStorage/mcp-config.json
```

配置内容：
```json
{
  "mcpServers": {
    "shoplazza-mcp": {
      "command": "node",
      "args": ["/path/to/shoplazza-mcps/build/index.js"],
      "env": {}
    }
  }
}
```

## ❓ 常见问题

### Q: npm install 一直失败怎么办？

A: 尝试以下方法：
1. 检查网络连接
2. 切换 npm registry（见步骤 1）
3. 使用代理或 VPN
4. 检查防火墙设置

### Q: 构建后找不到 build/index.js？

A: 确保：
1. `npm run build` 没有报错
2. 检查 `build` 目录是否存在
3. 查看构建输出是否有错误信息

### Q: Cursor 中无法使用 MCP 工具？

A: 检查：
1. 配置文件路径是否正确
2. `build/index.js` 文件是否存在且有执行权限
3. 是否完全重启了 Cursor（不是只关闭窗口）
4. 查看 Cursor 的 MCP 日志（如果有）

### Q: 如何验证 MCP 是否正常工作？

A: 在 Cursor 对话中尝试：
- "请帮我获取 spz-accordion 组件的文档信息"
- "获取 spz-button 组件的属性和方法"

如果 AI 能够调用 `get-lessjs` 工具并返回结果，说明配置成功。

## 📚 项目信息

- **项目路径**: `/path/to/shoplazza-mcps`
- **功能**: 获取 Shoplazza LessJS 组件的文档信息
- **支持的组件**: 所有在 https://lessjs.shoplazza.com/latest/components/ 上可用的组件

## 🚀 快速安装（如果网络正常）

如果网络问题解决了，可以直接运行：

```bash
cd /path/to/shoplazza-mcps
./setup.sh
```

这个脚本会自动完成所有安装和配置步骤。
